(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{66:function(e,t,a){e.exports=a(95)},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),l=a.n(c),o=a(22),i=a(18),u=a(52),s={loading:!0,weatherData:[],error:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER_REQUEST":return{loading:!0,weatherData:[],error:!1};case"FETCH_WEATHER_SUCCESS":return{loading:!1,weatherData:t.payload,error:!1};case"FETCH_WEATHER_FAILURE":return{loading:!1,weatherData:[],error:t.payload};default:return e}},E={loading:!0,weatherCityData:[],error:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER_CITY_REQUEST":return{loading:!0,weatherCityData:[],error:!1};case"FETCH_WEATHER_CITY_SUCCESS":return{loading:!1,weatherCityData:t.payload,error:!1};case"FETCH_WEATHER_CITY_FAILURE":return{loading:!1,weatherCityData:[],error:t.payload};default:return e}},m=Object(i.c)({weatherReducer:d,weatherCityReducer:p}),h=Object(i.e)(m,Object(i.d)(Object(i.a)(u.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),f=a(131),b=a(140),g=a(139),w=a(32),v=a(53),y=a(56),C=a(55),_=function(){return n.a.createElement("div",null,n.a.createElement("div",null,"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"),n.a.createElement("div",null,"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u043a\u043b\u0430\u0434\u043a\u0443 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 \u0438\u043b\u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442"))},T=function(e){Object(y.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(w.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={hasError:!1},e}return Object(v.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?n.a.createElement(_,null):this.props.children}}]),a}(r.Component),O=a(40),D=a(137),H=a(14),R=a.n(H),S=a(20),j=a(54),W=a.n(j),x=function(e){return W.a.create({baseURL:"https://api.openweathermap.org/data/2.5",method:"get"})},A=new function e(){Object(w.a)(this,e),this.getWeatherData=Object(S.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/group?id=524901,703448,2643743&lang=ru&units=metric&appid=b8dd12b10a5e9b631f1d9b511e5e36b3",e.next=3,x().get("/group?id=524901,703448,2643743&lang=ru&units=metric&appid=b8dd12b10a5e9b631f1d9b511e5e36b3");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),this.getWeatherCityData=function(){var e=Object(S.a)(R.a.mark((function e(t){var a,r,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.lat,r=t.lon,n="/onecall?lat=".concat(a,"&lon=").concat(r,"&lang=ru&units=metric&appid=b8dd12b10a5e9b631f1d9b511e5e36b3"),e.next=4,x("city").get(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=a(128),I=a(145),k=a(146),U=a(143),L=function(e){var t=e.weatherData,a=e.setIsOpen,r=e.setDataModal,c=t.coord,l=t.name,o=t.main.temp;return n.a.createElement(I.a,{button:!0,onClick:function(){a(!0),r({name:l,coord:c})}},n.a.createElement(k.a,{primary:l}),n.a.createElement(U.a,{color:"primary",label:Math.round(o)}),"\u2103")},N=function(e){var t=e.list,a=e.setIsOpen,r=e.setDataModal;return n.a.createElement(F.a,{component:"nav","aria-label":"city weather"},t.map((function(e){var t=e.id;return n.a.createElement(L,{weatherData:e,setIsOpen:a,setDataModal:r,key:t})})))},Y=a(141),M=a(138),Q=a(97),X=a(134),B=a(136),J=a(130),V=a(132),q=a(135),G=a(129),P=a(133);var z=function(e){return e.daily.map((function(e){var t=e.dt,a=e.temp,r=e.wind_speed,c=e.pressure,l=e.humidity;return n.a.createElement(G.a,{key:t},n.a.createElement(J.a,{component:"th",scope:"row"},function(e){var t=new Date(1e3*e),a=t.getDate(),r=["\u044f\u043d\u0432","\u0444\u0435\u0432","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0439","\u0438\u044e\u043d","\u0438\u044e\u043b","\u0430\u0432\u0433","\u0441\u0435\u043d","\u043e\u043a\u0442","\u043d\u043e\u044f","\u0434\u0435\u043a"][t.getMonth()],n=t.getFullYear();return"".concat(a," ").concat(r,". ").concat(n)}(t)),n.a.createElement(J.a,{align:"right"},a.day),n.a.createElement(J.a,{align:"right"},r),n.a.createElement(J.a,{align:"right"},c),n.a.createElement(J.a,{align:"right"},l))}))},K=Object(f.a)({table:{minWidth:650}});var Z=function(e){var t=K(),a=e.data;return n.a.createElement(V.a,{component:P.a},n.a.createElement(X.a,{className:t.table,"aria-label":"simple table"},n.a.createElement(q.a,null,n.a.createElement(G.a,null,n.a.createElement(J.a,null,"\u0414\u0430\u0442\u0430"),n.a.createElement(J.a,{align:"right"},"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430\xa0(\u0446)"),n.a.createElement(J.a,{align:"right"},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430\xa0(\u043c\u0441)"),n.a.createElement(J.a,{align:"right"},"\u0410\u0442\u043c. \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435\xa0(\u043c\u043c \u0440\u0442.)"),n.a.createElement(J.a,{align:"right"},"\u0412\u043b\u0430\u0436\u043d\u043e\u0442\u044c \xa0(%)"))),n.a.createElement(B.a,null,n.a.createElement(z,{daily:a.daily}))))},$=Object(o.b)((function(e){var t=e.weatherCityReducer;return{weatherCityLoading:t.loading,weatherCityError:t.error,weatherCityData:t.weatherCityData}}),(function(e){return{getWeatherCityHandler:function(t){return e((a=t,function(){var e=Object(S.a)(R.a.mark((function e(t){var r,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_WEATHER_CITY_REQUEST"}),e.prev=1,e.next=4,A.getWeatherCityData(a);case 4:r=e.sent,n=r.data,t({type:"FETCH_WEATHER_CITY_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"FETCH_WEATHER_CITY_FAILURE",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t=e.getWeatherCityHandler,a=e.weatherCityLoading,c=e.weatherCityError,l=e.weatherCityData,o=e.data;Object(r.useEffect)((function(){t(o)}),[o]);var i=a?n.a.createElement(D.a,null):null,u=c?n.a.createElement(_,null):null,s=!(a||c)?n.a.createElement(Z,{data:l}):null;return n.a.createElement(n.a.Fragment,null,i,u,s)})),ee=Object(f.a)((function(e){return{modal:{},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},modalInner:{width:"100vw",maxWidth:"750px",height:"500px",maxHeight:"100vh",overflow:"auto",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}));var te=function(e){var t=ee(),a=e.isOpen,r=e.isClose,c=e.data;return n.a.createElement("div",null,n.a.createElement(Y.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:a,onClose:r,closeAfterTransition:!0,BackdropComponent:M.a,BackdropProps:{timeout:500}},n.a.createElement("div",{className:t.modalInner},n.a.createElement(Q.a,{in:a},n.a.createElement("div",{className:t.paper},n.a.createElement("h2",{id:"transition-modal-title"},"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b \u0432 \u0433. ",c.name),n.a.createElement("span",{id:"transition-modal-description"},"\u043f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"),n.a.createElement($,{data:c.coord}))))))},ae=Object(o.b)((function(e){var t=e.weatherReducer;return{weatherLoading:t.loading,weatherError:t.error,weatherData:t.weatherData}}),(function(e){return{getWeatherHandler:function(){return e(function(){var e=Object(S.a)(R.a.mark((function e(t){var a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_WEATHER_REQUEST"}),e.prev=1,e.next=4,A.getWeatherData();case 4:a=e.sent,r=a.data,t({type:"FETCH_WEATHER_SUCCESS",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"FETCH_WEATHER_FAILURE",payload:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.getWeatherHandler,a=e.weatherLoading,c=e.weatherError,l=e.weatherData,o=Object(r.useState)(!1),i=Object(O.a)(o,2),u=i[0],s=i[1],d=Object(r.useState)({name:"",coord:{lat:"",lon:""}}),E=Object(O.a)(d,2),p=E[0],m=E[1],h=l.list;Object(r.useEffect)((function(){t()}),[]);var f=a?n.a.createElement(D.a,null):null,b=c?n.a.createElement(_,null):null,g=!(a||c)?n.a.createElement(N,{list:h,setIsOpen:s,setDataModal:m}):null;return n.a.createElement("div",{className:""},n.a.createElement("div",{className:""},f,b,g,n.a.createElement(te,{isOpen:u,isClose:function(){s(!1)},data:p})))})),re=Object(f.a)((function(e){return{root:{flexGrow:1}}})),ne=function(){var e=re();return n.a.createElement("div",{className:e.root},n.a.createElement(g.a,{maxWidth:"sm"},n.a.createElement(b.a,{container:!0,spacing:3},n.a.createElement(b.a,{item:!0,xs:12},n.a.createElement(T,null,n.a.createElement(ae,null))))))},ce=function(e){return n.a.createElement(ne,null)};a(94);l.a.render(n.a.createElement(o.a,{store:h},n.a.createElement(ce,null)),document.querySelector("#root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.d5c5054d.chunk.js.map